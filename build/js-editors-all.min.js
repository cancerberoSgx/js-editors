/*! js-editors 2013-11-10 */
var ns=null;jseditors=ns={},jseditors.templates={},ns.editors={},ns.registerEditor=function(a){ns.editors[a.name]=a},ns.getEditorsFor=function(a){var b=[];for(var c in ns.editors){var d=ns.editors[c];d.canEdit(a)&&b.push(d)}return b},ns.types={STRING:"String",OBJECT:"Object",NUMBER:"Number",BOOLEAN:"Boolean",ARRAY:"Array"},ns.types.all=[ns.types.STRING,ns.types.OBJECT,ns.types.NUMBER,ns.types.BOOLEAN,ns.types.ARRAY],ns.util={defineStaticField:function(a,b,c,d){(d||!a[b])&&(a[b]=c)},defineClass:function(a,b,c,d,e,f){c=c||a.util.noop,f=f||{},d=d||function(){c.apply(this,arguments)},a[b]=d;var g=a[b];return _.extend(g,c),_.extend(g,f),_.extend(g.prototype,c.prototype),_.extend(g.prototype,e),g.prototype.__super=c,g},noop:function(){},buildUniqueId:function(){return _.uniqueId("jseditors_"+this.name)}},ns.util.defineClass(ns,"Editor",null,function(a){_.extend(this,a),ns.registerEditor(this),this.ns=ns},{name:null,canEdit:ns.util.noop,canEditType:ns.util.noop,render:ns.util.noop,flush:ns.util.noop});var ns=jseditors;ns.util.defineClass(ns,"HTML5AbstractEditor",ns.Editor,null,{renderHTML:function(a){this.elid=ns.util.buildUniqueId(),ns.util.setHtml(this.el,a({ed:this}))},getInputEl:function(){return ns.util.getById(this.elid)}}),ns.util.defineClass(ns,"InputEditor",ns.HTML5AbstractEditor,null,{name:"InputEditor",canEdit:function(a){return _.isString(a)},canEditType:function(a){return a===ns.types.NUMBER},render:function(){this.renderHTML(ns.templates.InputEditor)},flush:function(){return this.readonly?this.parseValue(this.value):this.parseValue(ns.util.getValue(this.getInputEl()))},parseValue:function(a){return a}}),ns.util.defineClass(ns,"AbstractObjectEditor",ns.HTML5AbstractEditor,null,{name:"AbstractObjectEditor",canEdit:function(a){return _.isObject(a)},getInputEl:function(){return ns.util.getById(this.elid)},render:function(){var a=ns.util.buildUniqueId();this.elid=a;var b=ns.AbstractInputEditor.templInput(this);ns.util.setHtml(this.el,b)},flush:function(){if(this.readonly)return this.value;var a=ns.util.getValue(this.getInputEl());return a}}),this.jseditors=this.jseditors||{},this.jseditors.templates=this.jseditors.templates||{},this.jseditors.templates.InputEditor=function(obj){obj||(obj={});{var __t,__p="";_.escape,Array.prototype.join}with(obj){if(ed.readonly){var tagName=ed.tagName||"span";__p+="\n	<"+(null==(__t=tagName)?"":__t)+' id="'+(null==(__t=ed.elid)?"":__t)+'">'+(null==(__t=ed.value)?"":__t)+"</"+(null==(__t=tagName)?"":__t)+">\n	\n"}else __p+=ed.isTextArea?'\n	<textarea id="'+(null==(__t=ed.elid)?"":__t)+'">'+(null==(__t=ed.value)?"":__t)+"</textarea>\n		\n":'\n	<input type="'+(null==(__t=ed.type||"text")?"":__t)+'" id="'+(null==(__t=ed.elid)?"":__t)+'" value="'+(null==(__t=ed.value)?"":__t)+'"></input>\n';__p+="\n"}return __p};